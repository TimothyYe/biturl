/*!
 * BitURL - BitURL v1.1.0 (http://github.com/timothyye/biturl)
 * Copyright 2016-2016 Timothy
 * Licensed under MIT (https://github.com/TimothyYe/biturl/blob/master/LICENSE)
 */
var Shorten=function(){var t=!0,n=function(){var t=/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/;$("#txtUrl").on("input",function(){t.test($(this).val())?$("#submit-btn").prop("disabled",!1):$("#submit-btn").prop("disabled",!0)})},o=function(){$("#submit-btn").on("click",function(n){if(n.preventDefault(),t)s();else{var o=new Clipboard(".btn");o.on("success",function(n){toastr.success("URL copied to clipboard!"),o.destroy(),t=!0,$("#submit-btn").text("SHORTEN")}),o.on("error",function(t){console.log("Copy failed!")})}})},s=function(){var n=$("#shorten-form"),o=n.attr("action");$.post(o,n.serialize(),function(n){return n.result?(toastr.success("URL is shortened!"),$("#txtUrl").prop("value",n.short),t=!1,$("#submit-btn").text("COPY"),$("#txtUrl").focus(),$("#txtUrl").select(),void 0):(console.log("Shorten failed!"),toastr.warning(n.message),!1)},"json")};return{init:function(){n(),o()}}}();